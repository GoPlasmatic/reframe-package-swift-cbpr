{
    "name": "camt.105 to MTn90 CBPR+ Scenario",
    "description": "Generates sample camt.105 messages for transformation to MT190/MT290",
    "source": "camt.105",
    "target": "MTn90",
    "variables": {
        "sender_bic": {"fake": ["bic"]},
        "receiver_bic": {"fake": ["bic"]},
        "charges_requestor_bic": {"fake": ["bic"]},
        "debtor_agent_bic": {"fake": ["bic"]},
        "message_id": {"fake": ["uuid"]},
        "charges_id": {"fake": ["uuid"]},
        "instruction_id": {"fake": ["uuid"]},
        "end_to_end_id": {"fake": ["uuid"]},
        "uetr": {"fake": ["uuid"]},
        "creation_datetime": {"fake": ["iso8601_datetime"]},
        "value_date": {"fake": ["date", "2024-01-01", "2024-12-31"]},
        "currency": "USD",
        "total_amount": {"fake": ["f64", 100.0, 10000.0]},
        "charge_amount_1": {"fake": ["f64", 10.0, 100.0]},
        "charge_amount_2": {"fake": ["f64", 5.0, 50.0]},
        "charge_amount_3": {"fake": ["f64", 2.5, 25.0]},
        "account_iban": {"fake": ["iban"]},
        "underlying_msg": "pacs.008.001.10"
    },
    "schema": {
        "AppHdr": {
            "Fr": {"FIId": {"FinInstnId": {"BICFI": {"var": "sender_bic"}}}},
            "To": {"FIId": {"FinInstnId": {"BICFI": {"var": "receiver_bic"}}}},
            "BizMsgIdr": {"var": "message_id"},
            "MsgDefIdr": "camt.105.001.02",
            "BizSvc": "swift.cbprplus.02",
            "CreDt": {"var": "creation_datetime"}
        },
        "Document": {
            "ChrgsPmtNtfctn": {
                "GrpHdr": {
                    "MsgId": {"var": "message_id"},
                    "CreDtTm": {"var": "creation_datetime"},
                    "ChrgsRqstr": {"FinInstnId": {"BICFI": {"var": "charges_requestor_bic"}}},
                    "ChrgsAcct": {"Id": {"IBAN": {"var": "account_iban"}}}
                },
                "Chrgs": {
                    "PerTx": {
                        "ChrgsId": {"var": "charges_id"},
                        "Rcrd": {
                            "UndrlygTx": {
                                "InstrId": {"var": "instruction_id"},
                                "EndToEndId": {"var": "end_to_end_id"},
                                "UETR": {"var": "uetr"},
                                "MsgNmId": {"var": "underlying_msg"}
                            },
                            "ValDt": {"Dt": {"var": "value_date"}},
                            "TtlChrgsPerRcrd": {
                                "NbOfChrgsBrkdwnItms": "3",
                                "TtlChrgsAmt": {"@Ccy": {"var": "currency"}, "$value": {"var": "total_amount"}},
                                "CdtDbtInd": "DBIT"
                            },
                            "ChrgsBrkdwn": [
                                {
                                    "Amt": {"@Ccy": {"var": "currency"}, "$value": {"var": "charge_amount_1"}},
                                    "CdtDbtInd": "DBIT",
                                    "Tp": {"Cd": "COMM"},
                                    "DbtorAgt": {"FinInstnId": {"BICFI": {"var": "debtor_agent_bic"}}}
                                },
                                {
                                    "Amt": {"@Ccy": {"var": "currency"}, "$value": {"var": "charge_amount_2"}},
                                    "CdtDbtInd": "DBIT",
                                    "Tp": {"Cd": "CORR"}
                                },
                                {
                                    "Amt": {"@Ccy": {"var": "currency"}, "$value": {"var": "charge_amount_3"}},
                                    "CdtDbtInd": "DBIT",
                                    "Tp": {"Cd": "OTHR"}
                                }
                            ]
                        }
                    }
                }
            }
        }
    }
}
