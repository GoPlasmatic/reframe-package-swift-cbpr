{
    "id": "generate-mt",
    "name": "Generate MT Message",
    "description": "Generates sample SWIFT MT messages using the schema provided in the payload",
    "priority": 1,
    "condition": {"==": [{"substr": [{"var": "metadata.message_type"}, 0, 2]}, "MT"]},
    "tasks": [
        {
            "id": "generate_mt_sample",
            "name": "Generate MT Sample",
            "description": "Uses the generate_mt function to create sample MT message from schema",
            "function": {"name": "generate_mt", "input": {"target": "sample_json"}}
        },
        {
            "id": "publish_mt_output",
            "name": "Publish MT Output",
            "description": "Formats the generated MT message for output",
            "function": {"name": "publish_mt", "input": {"source": "sample_json", "target": "result"}}
        }
    ]
}
